C51 COMPILER V9.54   KEY                                                                   09/16/2024 23:10:24 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE KEY
OBJECT MODULE PLACED IN .\Objects\Key.obj
COMPILER INVOKED BY: D:\Keil5 C51\C51\BIN\C51.EXE Key.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\Key
                    -.lst) OBJECT(.\Objects\Key.obj)

line level    source

   1          #include <REGX52.H>
   2          
   3          unsigned char Key_KeyNumer;
   4          /**
   5                  *@brief     è·å–æŒ‰é”®é”®ç 
   6                  *@param     æ— 
   7                  *@retval    è¿”å›é‚£ä¸ªæŒ‰é”®æŒ‰ä¸‹
   8          */
   9          unsigned char KeyNum()
  10          {
  11   1              unsigned char Temp=0;
  12   1              Temp=Key_KeyNumer;
  13   1              Key_KeyNumer=0;
  14   1              return Temp;
  15   1      }
  16          /**
  17              *@brief     å½“æœ‰æŒ‰é”®æŒ‰ä¸‹æ—¶,ä¸ºKey_Loop()å‡½æ•°æ›´æ–°å½“å‰çŠ¶æ€
  18                  *@param     æ— 
  19                  *@retval    è¿”å›æŒ‰é”®ç 
  20          */
  21          unsigned char Key_GetNumer()
  22          {
  23   1              unsigned char KeyNumer=0;
  24   1              
  25   1              if(P3_1==0){KeyNumer=1;}
  26   1              if(P3_0==0){KeyNumer=2;}
  27   1              if(P3_2==0){KeyNumer=3;}
  28   1              if(P3_3==0){KeyNumer=4;}
  29   1              return KeyNumer;
  30   1      }
  31          /**
  32              *@brief     åœ¨å®šæ—¶å™¨ä¸­æ–­0ä¸­æ‰«ææŒ‰é”®çŠ¶æ€
  33                  *@param     æ— 
  34                  *@retval    æ— 
  35          */
  36          void Key_Loop()
  37          {
  38   1              static unsigned char NowState,LastState;
  39   1              LastState=NowState;             //1æ¯«ç§’å‰çš„çŠ¶æ€         
  40   1              NowState=Key_GetNumer();        //å½“å‰çŠ¶æ€
  41   1              //å¦‚æœä¸Šä¸ªæ—¶é—´ç‚¹æŒ‰é”®æŒ‰ä¸‹ï¼Œè¿™ä¸ªæ—¶é—´ç‚¹æœªæŒ‰ä¸‹ï¼Œåˆ™æ˜¯æ¾æ‰‹ç¬é—´ï¼Œä»¥æ­¤é¿å…æ¶ˆæŠ–å
             -’Œæ¾æ‰‹æ£€æµ‹
  42   1              if(LastState==1&&NowState==0)
  43   1              {
  44   2                      Key_KeyNumer=1;
  45   2              }
  46   1              if(LastState==2&&NowState==0)
  47   1              {
  48   2                      Key_KeyNumer=2;
  49   2              }
  50   1              if(LastState==3&&NowState==0)
  51   1              {
  52   2                      Key_KeyNumer=3;
  53   2              }
C51 COMPILER V9.54   KEY                                                                   09/16/2024 23:10:24 PAGE 2   

  54   1              if(LastState==4&&NowState==0)
  55   1              {
  56   2                      Key_KeyNumer=4;
  57   2              }
  58   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     85    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
